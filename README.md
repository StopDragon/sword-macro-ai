# sword-macro-ai

ì¹´ì¹´ì˜¤í†¡ **ê²€í‚¤ìš°ê¸°** ê²Œì„ ìë™í™” ë§¤í¬ë¡œ + AI ë°ì´í„° ë¶„ì„ (macOS / Windows)

> **í¬ë¡œìŠ¤í”Œë«í¼ ì§€ì›** â€” macOSì—ì„œëŠ” Vision Framework, Windowsì—ì„œëŠ” EasyOCRì„ ìë™ìœ¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.

---

## ë‹¤ë¥¸ ë§¤í¬ë¡œì™€ ë­ê°€ ë‹¤ë¥¸ê°€?

ëŒ€ë¶€ë¶„ì˜ ê²€í‚¤ìš°ê¸° ë§¤í¬ë¡œëŠ” ë‹¨ìˆœíˆ `/ê°•í™”`ì™€ `/íŒë§¤` ëª…ë ¹ì–´ë¥¼ ë°˜ë³µí•©ë‹ˆë‹¤. sword-macro-aiëŠ” **AI ê¸°ë°˜ OCR + ë°ì´í„° ë¶„ì„**ìœ¼ë¡œ ê·¼ë³¸ì ìœ¼ë¡œ ë‹¤ë¥¸ ì ‘ê·¼ì„ í•©ë‹ˆë‹¤.

### AI OCR íŒë‹¨ ì—”ì§„
- **macOS**: Vision Framework (Apple ì˜¨ë””ë°”ì´ìŠ¤ AI), **Windows**: EasyOCR (PyTorch ê¸°ë°˜)ë¡œ ì±„íŒ… ë¡œê·¸ë¥¼ ì‹¤ì‹œê°„ ì¸ì‹
- ë‹¨ìˆœ ë¬¸ìì—´ ë§¤ì¹­ì´ ì•„ë‹Œ, OCRì´ ì½ì–´ë‚¸ í…ìŠ¤íŠ¸ë¥¼ **ë¬¸ë§¥ ë¶„ì„**í•´ì„œ ê²Œì„ ìƒíƒœë¥¼ íŒë‹¨
- íŠ¸ë˜ì‹œ ì•„ì´í…œ vs íˆë“  ì•„ì´í…œì„ ìë™ ë¶„ë¥˜í•˜ê³ , ê°•í™” ê²°ê³¼(ì„±ê³µ/ìœ ì§€/íŒŒê´´)ë¥¼ ì‹¤ì‹œê°„ íŒŒì‹±
- ê³¨ë“œ ì”ê³ ë¥¼ ì¶”ì í•´ì„œ ìˆ˜ìµì„±ì„ ê³„ì‚°

### ë¹…ë°ì´í„° ê¸°ë°˜ ìë™ ìµœì í™”
ì¼ë°˜ ë§¤í¬ë¡œëŠ” ë”œë ˆì´ë¥¼ ê°ìœ¼ë¡œ ì„¤ì •í•©ë‹ˆë‹¤. ì´ ë§¤í¬ë¡œëŠ” **ì‹¤ì œ í”Œë ˆì´ ë°ì´í„°ë¥¼ CSVë¡œ ìˆ˜ì§‘**í•˜ê³  ë¶„ì„í•´ì„œ ìµœì ê°’ì„ ë„ì¶œí•©ë‹ˆë‹¤.

```
ìˆ˜ì§‘ ë°ì´í„° â†’ AI ë¶„ì„ â†’ ìµœì  íŒŒë¼ë¯¸í„° ë„ì¶œ â†’ ì ìš© â†’ ì¬ìˆ˜ì§‘ â†’ ë°˜ë³µ
```

**ì‹¤ì œ ë¶„ì„ ì‚¬ë¡€** (6.5ì‹œê°„, 3,387 ì´ë²¤íŠ¸, 140ì‚¬ì´í´):

| ë¶„ì„ í•­ëª© | ë„ì¶œëœ ì¸ì‚¬ì´íŠ¸ | ì ìš© ê²°ê³¼ |
|-----------|----------------|-----------|
| ë ˆë²¨ë³„ ì„±ê³µë¥  | +6ì´ 50% ë¶„ê¸°ì , +9ê°€ ìµœì € 37.9% | ë ˆë²¨ë³„ 4ë‹¨ê³„ ë”œë ˆì´ ì²´ê³„ ì„¤ê³„ |
| ROI ë¶„ì„ | +10 ëª©í‘œê°€ ROI 273%ë¡œ ìµœì  | GOLD_MINE_TARGET=10 í™•ì • |
| ì‚¬ì´í´ ì‹œê°„ ë¶„ì„ | í‰ê·  62.6ì´ˆ, íŠ¸ë˜ì‹œ ì²˜ë¦¬ê°€ ë³‘ëª© | íŠ¸ë˜ì‹œ ë”œë ˆì´ 1.5â†’1.2ì´ˆë¡œ ë‹¨ì¶• |
| íˆë“  ë“œëë¥  | 11.5% (8.7íšŒë‹¹ 1íšŒ) | íŒŒë° ì „ëµ ìˆ˜ë¦½ ê·¼ê±° |

### ì‚¬ì´í´ ë‹¨ìœ„ íš¨ìœ¨ ì¶”ì 
ë§¤í¬ë¡œê°€ "íŒŒë° â†’ ê°•í™” â†’ íŒë§¤"ë¥¼ í•˜ë‚˜ì˜ ì‚¬ì´í´ë¡œ ë¬¶ì–´ ì¶”ì í•©ë‹ˆë‹¤.

```
ğŸ“¦ ì‚¬ì´í´ #47 ì™„ë£Œ: 58ì´ˆ, +285,000G | í‰ê·  61ì´ˆ/+71,340G | ì‹œê°„ë‹¹ 1,522,642G/h
```

ì¼ë°˜ ë§¤í¬ë¡œì—ëŠ” ì—†ëŠ” **ì‹œê°„ë‹¹ ê³¨ë“œ(G/h)** ì§€í‘œë¡œ ì‹¤ì‹œê°„ íš¨ìœ¨ì„ ëª¨ë‹ˆí„°ë§í•©ë‹ˆë‹¤.

### ë¹„êµ ìš”ì•½

| ê¸°ëŠ¥ | ì¼ë°˜ ë§¤í¬ë¡œ | sword-macro-ai |
|------|------------|----------------|
| ëª…ë ¹ì–´ ì…ë ¥ | /ê°•í™” /íŒë§¤ ë°˜ë³µ | /ê°•í™” /íŒë§¤ ë°˜ë³µ |
| ê²Œì„ ìƒíƒœ ì¸ì‹ | ì—†ìŒ ë˜ëŠ” ë‹¨ìˆœ ë¬¸ìì—´ | AI OCR ë¬¸ë§¥ ë¶„ì„ |
| ì•„ì´í…œ íŒë³„ | ìˆ˜ë™ ì„¤ì • | ìë™ íŠ¸ë˜ì‹œ/íˆë“  ë¶„ë¥˜ |
| ë”œë ˆì´ ì„¤ì • | ê³ ì •ê°’ (ê°) | ë°ì´í„° ê¸°ë°˜ 4ë‹¨ê³„ ìë™ ìµœì í™” |
| ìˆ˜ìµ ë¶„ì„ | ì—†ìŒ | ì‹¤ì‹œê°„ G/h + ì‚¬ì´í´ ROI |
| ë°ì´í„° ìˆ˜ì§‘ | ì—†ìŒ | CSV ë¡œê·¸ â†’ ë¶„ì„ â†’ ì¬ìµœì í™” ë£¨í”„ |
| íŒŒê´´ ëŒ€ì‘ | ìˆ˜ë™ ë˜ëŠ” ì¤‘ë‹¨ | ìë™ íŒŒë° ë³µê·€ |
| ì˜¤ë²„ë ˆì´ | ì—†ìŒ | OCR ì˜ì—­ + ì‹¤ì‹œê°„ ìƒíƒœ íŒ¨ë„ |

---

## ì£¼ìš” ê¸°ëŠ¥

| ëª¨ë“œ | ì„¤ëª… |
|------|------|
| **ê°•í™” ëª©í‘œ ë‹¬ì„±** | ì„¤ì •í•œ ê°•í™” ë ˆë²¨ê¹Œì§€ ìë™ ê°•í™” |
| **íˆë“  ê²€ ë½‘ê¸°** | íˆë“  ì•„ì´í…œ ë°œê²¬ê¹Œì§€ ìë™ íŒŒë° + ê°•í™” |
| **ê³¨ë“œ ì±„êµ´** | íŒŒë° â†’ ê°•í™”(+10) â†’ íŒë§¤ ë¬´í•œ ìˆœí™˜ìœ¼ë¡œ ê³¨ë“œ ìˆ˜ìµ ê·¹ëŒ€í™” |

### ë¶€ê°€ ê¸°ëŠ¥
- **ì‹¤ì‹œê°„ ì˜¤ë²„ë ˆì´** â€” OCR ìº¡ì²˜ ì˜ì—­ + ìƒíƒœ íŒ¨ë„ í‘œì‹œ
- **CSV ë°ì´í„° ë¡œê·¸** â€” ì‚¬ì´í´ë³„ ì†Œìš” ì‹œê°„, ê³¨ë“œ ìˆ˜ìµ ê¸°ë¡ (`sword_data.csv`)
- **ì„¸ì…˜ í†µê³„** â€” ì‹œê°„ë‹¹ ê³¨ë“œ(G/h), ì‚¬ì´í´ í‰ê·  ë“± ì‹¤ì‹œê°„ í‘œì‹œ
- **í•«í‚¤** â€” F8 ì¼ì‹œì •ì§€/ì¬ê°œ, F9 ì¬ì‹œì‘
- **ë¹„ìƒ ì •ì§€** â€” ë§ˆìš°ìŠ¤ë¥¼ í™”ë©´ ì¢Œìƒë‹¨ ëª¨ì„œë¦¬ë¡œ ì´ë™

---

## ìš”êµ¬ ì‚¬í•­

- **macOS** 12+ ë˜ëŠ” **Windows** 10+
- **Python** 3.9+
- ì¹´ì¹´ì˜¤í†¡ ë°ìŠ¤í¬í†± ì•±

### í•„ìˆ˜ íŒ¨í‚¤ì§€

```bash
pip install -r requirements.txt
```

> **Windows ì°¸ê³ **: EasyOCR ì²« ì‹¤í–‰ ì‹œ í•œêµ­ì–´ ëª¨ë¸ì„ ìë™ ë‹¤ìš´ë¡œë“œí•©ë‹ˆë‹¤ (~200MB). GPU(CUDA)ê°€ ìˆìœ¼ë©´ ìë™ìœ¼ë¡œ í™œìš©ë©ë‹ˆë‹¤.

---

## ì„¤ì¹˜ ë° ì‹¤í–‰

```bash
# 1. ì €ì¥ì†Œ í´ë¡ 
git clone https://github.com/StopDragon/sword-macro-ai.git
cd sword-macro-ai

# 2. ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt

# 3. ì‹¤í–‰
python sword_macro.py
```

### ì ‘ê·¼ì„± ê¶Œí•œ ì„¤ì • (macOSë§Œ í•´ë‹¹)

ì²˜ìŒ ì‹¤í–‰ ì‹œ macOSê°€ ì ‘ê·¼ì„± ê¶Œí•œì„ ìš”ì²­í•©ë‹ˆë‹¤.

**ì‹œìŠ¤í…œ ì„¤ì • > ê°œì¸ì •ë³´ ë³´í˜¸ ë° ë³´ì•ˆ > ì ‘ê·¼ì„±**ì—ì„œ í„°ë¯¸ë„(ë˜ëŠ” IDE)ì„ í—ˆìš©í•˜ì„¸ìš”.

---

## ì‚¬ìš©ë²•

### 1. ì¹´ì¹´ì˜¤í†¡ ì¤€ë¹„
- ì¹´ì¹´ì˜¤í†¡ì—ì„œ ê²€í‚¤ìš°ê¸° ì±„íŒ…ë°©ì„ ì—½ë‹ˆë‹¤
- ì±„íŒ…ì°½ í¬ê¸°ë¥¼ ì ë‹¹íˆ ì¡°ì ˆí•©ë‹ˆë‹¤

### 2. ë§¤í¬ë¡œ ì‹¤í–‰
```bash
python sword_macro.py
```

### 3. ëª¨ë“œ ì„ íƒ
```
=== ì¹´ì¹´ì˜¤í†¡ ê²€í‚¤ìš°ê¸° ===
1. ê°•í™” ëª©í‘œ ë‹¬ì„±
2. íˆë“  ê²€ ë½‘ê¸°
3. ê³¨ë“œ ì±„êµ´ (ëˆë²Œê¸°)
4. ì˜µì…˜ ì„¤ì •
```

### 4. ì¢Œí‘œ ì„¤ì •
- ì¹´ì¹´ì˜¤í†¡ **ë©”ì‹œì§€ ì…ë ¥ ì¹¸**ì— ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë¦¬ì„¸ìš”
- 3ì´ˆ í›„ ìë™ìœ¼ë¡œ ì¢Œí‘œë¥¼ ì¡ê³  ì˜¤ë²„ë ˆì´ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤
- **ì´ˆë¡ í…Œë‘ë¦¬** = OCR ìº¡ì²˜ ì˜ì—­ (ì±„íŒ… ë¡œê·¸)
- **ë¹¨ê°„ í…Œë‘ë¦¬** = ì…ë ¥ì°½ ì˜ì—­
- ì¹´ì¹´ì˜¤í†¡ ì°½ì„ í…Œë‘ë¦¬ì— ë§ì¶”ì„¸ìš”

### 5. ì¡°ì‘ í‚¤
| í‚¤ | ë™ì‘ |
|----|------|
| `F8` | ì¼ì‹œì •ì§€ / ì¬ê°œ |
| `F9` | ì¬ì‹œì‘ (ë©”ë‰´ë¡œ ë³µê·€) |
| ë§ˆìš°ìŠ¤ ì¢Œìƒë‹¨ | ë¹„ìƒ ì •ì§€ (pyautogui failsafe) |

---

## ì˜µì…˜ ì„¤ì •

| í•­ëª© | ê¸°ë³¸ê°’ | ì„¤ëª… |
|------|--------|------|
| ê°ì† ì‹œì‘ ë ˆë²¨ | +9 | ì´ ë ˆë²¨ë¶€í„° ê°•í™” ë”œë ˆì´ ì¦ê°€ |
| ì¼ë°˜ ì†ë„ | 2.5ì´ˆ | ì¤‘ê°„ ë ˆë²¨(+5~+8) ê°•í™” ëŒ€ê¸° |
| ê³ ê°• ì†ë„ | 3.5ì´ˆ | ê³ ë ˆë²¨(+9~) ê°•í™” ëŒ€ê¸° |
| ìµœì†Œ ê³¨ë“œ | 0G | ê³¨ë“œê°€ ì´ ê°’ ì´í•˜ë©´ ìë™ ì¤‘ë‹¨ |
| ì¢Œí‘œ ê³ ì • | OFF | ë§¤ë²ˆ ì¢Œí‘œ ì„¤ì • ì—†ì´ ì €ì¥ëœ ìœ„ì¹˜ ì‚¬ìš© |

ì„¤ì •ì€ `sword_config.json`ì— ìë™ ì €ì¥ë©ë‹ˆë‹¤.

---

## ë°ì´í„° ë¶„ì„ íŒŒì´í”„ë¼ì¸

sword-macro-aiì˜ í•µì‹¬ì€ **ìˆ˜ì§‘ â†’ ë¶„ì„ â†’ ìµœì í™”** í”¼ë“œë°± ë£¨í”„ì…ë‹ˆë‹¤.

### ìˆ˜ì§‘
ë§¤í¬ë¡œê°€ ìë™ìœ¼ë¡œ ëª¨ë“  ì´ë²¤íŠ¸ë¥¼ `sword_data.csv`ì— ê¸°ë¡í•©ë‹ˆë‹¤.

```
timestamp, event, level, result, gold, item, mode, cycle_id, cycle_sec, gold_earned
```

| ì´ë²¤íŠ¸ | ì„¤ëª… |
|--------|------|
| `enhance` | ê°•í™” ì‹œë„ (success/hold/destroy) |
| `farm` | íŒŒë° ê²°ê³¼ (trash/hidden) |
| `sell` | ì•„ì´í…œ íŒë§¤ |
| `goal` | ëª©í‘œ ë ˆë²¨ ë‹¬ì„± |
| `cycle_end` | ì‚¬ì´í´ ì™„ë£Œ (ì†Œìš”ì‹œê°„ + ìˆ˜ìµ í¬í•¨) |

### ë¶„ì„ ê°€ëŠ¥ í•­ëª©
CSV ë°ì´í„°ë¡œ ë‹¤ìŒ ë¶„ì„ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤:

- **ë ˆë²¨ë³„ ê°•í™” í™•ë¥  í…Œì´ë¸”** â€” ì‹¤ì œ í™•ë¥  vs ì²´ê° í™•ë¥  ê²€ì¦
- **ìµœì  ëª©í‘œ ë ˆë²¨ ê³„ì‚°** â€” ROI(íˆ¬ììˆ˜ìµë¥ ) ê¸°ë°˜ ìˆ˜í•™ì  ìµœì ì  ë„ì¶œ
- **ì‹œê°„ëŒ€ë³„ íš¨ìœ¨ ë³€í™”** â€” ì„œë²„ ìƒíƒœì— ë”°ë¥¸ ì„±ê³µë¥  ì°¨ì´
- **ì—°ì† íŒ¨í„´ ë¶„ì„** â€” ì—°ì† ì„±ê³µ/ì‹¤íŒ¨ streak, í™•ë¥  ë…ë¦½ì„± ê²€ì¦
- **ì‚¬ì´í´ íš¨ìœ¨ ë¶„ì„** â€” ê°€ì¥ ìˆ˜ìµì„± ë†’ì€ ì‚¬ì´í´ íŒ¨í„´ ì‹ë³„

### ë¶„ì„ ì˜ˆì‹œ
```python
import pandas as pd

df = pd.read_csv('sword_data.csv')

# ë ˆë²¨ë³„ ì„±ê³µë¥ 
enhance = df[df['event'] == 'enhance']
enhance.groupby('level')['result'].value_counts(normalize=True)

# ì‹œê°„ë‹¹ ê³¨ë“œ
cycles = df[df['event'] == 'cycle_end']
total_gold = cycles['gold_earned'].sum()
total_hours = cycles['cycle_sec'].sum() / 3600
print(f"G/h: {total_gold / total_hours:,.0f}")
```

---

## ìƒì„± íŒŒì¼

| íŒŒì¼ | ìš©ë„ |
|------|------|
| `sword_config.json` | ì„¤ì • ì €ì¥ |
| `sword_macro.log` | ëŸ°íƒ€ì„ ë¡œê·¸ (OCR ì›ë¬¸ í¬í•¨, 5MB ë¡œí…Œì´ì…˜) |
| `sword_data.csv` | ë¶„ì„ìš© êµ¬ì¡°í™” ë°ì´í„° |

---

## ê³¨ë“œ ì±„êµ´ ëª¨ë“œ ìƒì„¸

íˆë“  íŒŒë° â†’ +10 ê°•í™” â†’ íŒë§¤ë¥¼ ìë™ ë°˜ë³µí•©ë‹ˆë‹¤.

**ë”œë ˆì´ ì²´ê³„** (6.5ì‹œê°„ ë°ì´í„° ê¸°ë°˜ ìµœì í™”):

| êµ¬ê°„ | ë”œë ˆì´ | ê·¼ê±° |
|------|--------|------|
| íŠ¸ë˜ì‹œ ì²˜ë¦¬ | 1.2ì´ˆ | ì „ì²´ íŒŒë°ì˜ 88.5% â†’ ì†ë„ê°€ ì „ì²´ íš¨ìœ¨ ê²°ì • |
| +1 ~ +4 | 1.5ì´ˆ | ì„±ê³µë¥  69~92% â†’ ì•ˆì „ êµ¬ê°„, ë¹ ë¥´ê²Œ í†µê³¼ |
| +5 ~ +8 | 2.5ì´ˆ | ì„±ê³µë¥  44~61% â†’ OCR ì •í™•ë„ì™€ ì†ë„ ê· í˜• |
| +9 ~ | 3.5ì´ˆ | ì„±ê³µë¥  38% â†’ íŒŒê´´ ìœ„í—˜, ì •í™•í•œ ì¸ì‹ ìš°ì„  |

**ì‹¤ì¸¡ ì„±ëŠ¥** (140ì‚¬ì´í´ ê¸°ì¤€):
- ì‹œê°„ë‹¹ ê³¨ë“œ: ~1,500,000 G/h
- í‰ê·  ì‚¬ì´í´: ~63ì´ˆ
- +10 ë„ë‹¬ ì„±ê³µë¥ : 32%
- ROI: 273%

---

## ì£¼ì˜ì‚¬í•­

- ë§¤í¬ë¡œ ì‹¤í–‰ ì¤‘ ì¹´ì¹´ì˜¤í†¡ ì°½ì„ ì´ë™í•˜ê±°ë‚˜ ê°€ë¦¬ì§€ ë§ˆì„¸ìš”
- OCRì€ í™”ë©´ ìº¡ì²˜ ê¸°ë°˜ì´ë¯€ë¡œ ë‹¤ë¥¸ ì°½ì´ ê²¹ì¹˜ë©´ ì¸ì‹ì´ ì‹¤íŒ¨í•©ë‹ˆë‹¤
- ê²Œì„ ë‚´ ê³µì§€ë‚˜ ì‹œìŠ¤í…œ ë©”ì‹œì§€ê°€ ì±„íŒ…ì„ ë°€ì–´ë‚´ë©´ ì¼ì‹œì ìœ¼ë¡œ íŒë³„ ë¶ˆê°€ ìƒíƒœê°€ ë©ë‹ˆë‹¤

---

## English Summary

**sword-macro-ai** is a cross-platform automation tool for the KakaoTalk chat game "ê²€í‚¤ìš°ê¸°" (Sword Growing), featuring **AI-powered OCR and data-driven optimization**.

**Cross-platform** â€” Uses Apple Vision Framework on macOS and EasyOCR on Windows. Platform is auto-detected at runtime.

### What makes it different?
Unlike simple command-repeating macros, sword-macro-ai uses:
- **Apple Vision Framework** (macOS) / **EasyOCR** (Windows) for real-time Korean OCR with contextual game state analysis
- **Structured CSV data logging** for every game event (enhance, farm, sell, destroy)
- **Data-driven parameter tuning** â€” delay values, target levels, and strategies are derived from statistical analysis of actual gameplay data, not guesswork
- **Cycle-based efficiency tracking** with real-time G/h (gold per hour) metrics
- **Automatic recovery** from sword destruction (returns to farming automatically)

### Key Metrics (from 6.5h, 3,387 events, 140 cycles)
- Gold per hour: ~1,500,000 G/h
- Target (+10) success rate: 32%
- ROI: 273%
- Enhancement success by level: +1 (92%) â†’ +6 (50%) â†’ +9 (38%)

### Features
- 3 modes: target enhancement, hidden item farming, gold mining
- Real-time overlay showing OCR region and status panel
- CSV data logging for performance analysis and optimization
- Hotkeys: F8 (pause/resume), F9 (restart)
- 4-tier delay system optimized from statistical analysis

### Requirements
- macOS 12+ or Windows 10+, Python 3.9+
- `pip install -r requirements.txt`
- macOS: Grant Accessibility permission to your terminal app

### Quick Start
```bash
git clone https://github.com/YOUR_USERNAME/sword-macro-ai.git
cd sword-macro-ai
pip install -r requirements.txt
python sword_macro.py
```

---

## License

MIT
